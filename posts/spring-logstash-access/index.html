<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Spring access log Logstash 수집하기" /><meta property="og:locale" content="en" /><meta name="description" content="spirng boot + ELK stack 구현 시 http access logging을 빠르게 구현하고 싶을때 적용 할 수 있는 방법 정리" /><meta property="og:description" content="spirng boot + ELK stack 구현 시 http access logging을 빠르게 구현하고 싶을때 적용 할 수 있는 방법 정리" /><link rel="canonical" href="https://colagom.github.io/posts/spring-logstash-access/" /><meta property="og:url" content="https://colagom.github.io/posts/spring-logstash-access/" /><meta property="og:site_name" content="Gom Log" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-06T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Spring access log Logstash 수집하기" /><meta name="google-site-verification" content="VFPWrWmBTYYoTIWbDgHddxoqzLAXbzfN4oU2kEaagiQ" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-03-08T03:14:47+09:00","datePublished":"2023-02-06T00:00:00+09:00","description":"spirng boot + ELK stack 구현 시 http access logging을 빠르게 구현하고 싶을때 적용 할 수 있는 방법 정리","headline":"Spring access log Logstash 수집하기","mainEntityOfPage":{"@type":"WebPage","@id":"https://colagom.github.io/posts/spring-logstash-access/"},"url":"https://colagom.github.io/posts/spring-logstash-access/"}</script><title>Spring access log Logstash 수집하기 | Gom Log</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Gom Log"><meta name="application-name" content="Gom Log"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div class="site-title mt-3"> <a href="/">Gom Log</a></div><div class="site-subtitle font-italic">Talk is cheap. Show me the code.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ColaGom" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://stackoverflow.com/users/4348662/ethan-choi" aria-label="stack-overflow" target="_blank" rel="noopener"> <i class="fab fa-stack-overflow"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['paca','alphaca.kr'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/geunho-choi-bb6208179/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Spring access log Logstash 수집하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Spring access log Logstash 수집하기</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/ColaGom">ColaGom</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2023-02-06 00:00:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Mon, Feb 6, 2023, 12:00 AM +0900" >Feb 6, 2023</em> </span> <span> Updated <em class="timeago" date="2023-03-08 03:14:47 +0900 " data-toggle="tooltip" data-placement="bottom" title="Wed, Mar 8, 2023, 3:14 AM +0900" >Mar 8, 2023</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="333 words"> <em>1 min</em> read</span></div></div></div><div class="post-content"><p>spirng boot + ELK stack 구현 시 http access logging을 빠르게 구현하고 싶을때 적용 할 수 있는 방법 정리</p><h1 id="의존성">의존성</h1><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nf">implementation</span><span class="p">(</span><span class="s">"org.slf4j:slf4j-api"</span><span class="p">)</span>
<span class="nf">implementation</span><span class="p">(</span><span class="s">"net.logstash.logback:logstash-logback-encoder"</span><span class="p">)</span>
<span class="nf">implementation</span><span class="p">(</span><span class="s">"ch.qos.logback:logback-access"</span><span class="p">)</span>
<span class="nf">implementation</span><span class="p">(</span><span class="s">"ch.qos.logback:logback-classic"</span><span class="p">)</span>
</pre></table></code></div></div><p>LogStashAppender, Encoder를 사용하기때문에 위 의존성을 프로젝트에 추가하여야한다. 현재 프로젝트의 의존성을 확인하여 적절한 버전 명시 필요</p><p><em><code class="language-plaintext highlighter-rouge">dependencyManagement</code>를 사용하여 의존성 중복문제를 발생하지 않도록 작업하는것을 추천한다.</em></p><h1 id="logback-accessxml-작성">logback-access.xml 작성</h1><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"access"</span>
            <span class="na">class=</span><span class="s">"net.logstash.logback.appender.LogstashAccessTcpSocketAppender"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;destination&gt;</span>{LOGSTASH ADDRESS}<span class="nt">&lt;/destination&gt;</span>
    <span class="nt">&lt;encoder</span> <span class="na">class=</span><span class="s">"net.logstash.logback.encoder.LogstashAccessEncoder"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/appender&gt;</span>

  <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"access"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></table></code></div></div><h1 id="tomcatcontext-pipeline-추가">TomcatContext Pipeline 추가</h1><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="nd">@Configuration</span>
<span class="kd">class</span> <span class="nc">AccessLogConfig</span> <span class="p">{</span>

  <span class="nd">@Bean</span>
  <span class="k">fun</span> <span class="nf">addLogbackValve</span><span class="p">()</span> <span class="p">=</span> <span class="nc">TomcatContextCustomizer</span> <span class="p">{</span> <span class="n">context</span> <span class="p">-&gt;</span>
    <span class="n">javaClass</span><span class="p">.</span><span class="nf">getResourceAsStream</span><span class="p">(</span><span class="s">"/logback-access.xml"</span><span class="p">).</span><span class="nf">use</span> <span class="p">{</span>
      <span class="nc">Files</span><span class="p">.</span><span class="nf">createDirectories</span><span class="p">(</span>
        <span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="n">catalinaBase</span><span class="p">.</span><span class="nf">toPath</span><span class="p">()</span>
          <span class="p">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nc">LogbackValve</span><span class="p">.</span><span class="nc">DEFAULT_CONFIG_FILE</span><span class="p">)).</span><span class="n">parent</span>
      <span class="p">)</span>

      <span class="nc">Files</span><span class="p">.</span><span class="nf">copy</span><span class="p">(</span>
        <span class="n">it</span><span class="p">,</span> <span class="n">context</span><span class="p">.</span><span class="n">catalinaBase</span><span class="p">.</span><span class="nf">toPath</span><span class="p">()</span>
          <span class="p">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nc">LogbackValve</span><span class="p">.</span><span class="nc">DEFAULT_CONFIG_FILE</span><span class="p">)</span>
      <span class="p">)</span>
    <span class="p">}</span>

    <span class="nc">LogbackValve</span><span class="p">().</span><span class="nf">let</span> <span class="p">{</span>
      <span class="n">it</span><span class="p">.</span><span class="n">isQuiet</span> <span class="p">=</span> <span class="k">true</span>
      <span class="n">context</span><span class="p">.</span><span class="n">pipeline</span><span class="p">.</span><span class="nf">addValve</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>위 작업을 완료하면 아래 필드들이 수집되는것이 확인가능하다.</p><p>TomcatContextPipeline을 추가하여 동작하도록 구현한 방식이라 서비스 영역의 커스텀이 불가한 단점이 존재하지만 특별히 커스텀이 불필요한 서비스의경우 빠르게 작업하기 좋다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>"@timestamp"
"@version"
"message"
"method"
"protocol"
"status_code"
"requested_url"
"requested_uri"
"remote_host"
"content_length"
"elapsed_time"
</pre></table></code></div></div><h1 id="참조">참조</h1><p><a href="https://github.com/logfellow/logstash-logback-encoder">https://github.com/logfellow/logstash-logback-encoder</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/dev/'>Dev</a>, <a href='/categories/devops/'>DevOps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/logstash/" class="post-tag no-text-decoration" >logstash</a> <a href="/tags/elk/" class="post-tag no-text-decoration" >ELK</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Spring access log Logstash 수집하기 - Gom Log&url=https://colagom.github.io/posts/spring-logstash-access/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Spring access log Logstash 수집하기 - Gom Log&u=https://colagom.github.io/posts/spring-logstash-access/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Spring access log Logstash 수집하기 - Gom Log&url=https://colagom.github.io/posts/spring-logstash-access/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jeju/">제주도 클린하우스 위치찾기 서비스</a><li><a href="/posts/csv-parse/">Nextjs, Nodejs, csv 파일 업로드 및 파싱</a><li><a href="/posts/spring-csv/">Spring, opencsv 활용하여 csv 내보내기</a><li><a href="/posts/drag-drop/">React, tailwind: 드래그 & 드롭 파일 업로드</a><li><a href="/posts/lambda-jar/">AWS Lambda, 기본 설정 및 jar 배포하기</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/kmm/">kmm</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/blockchain/">blockchain</a> <a class="post-tag" href="/tags/github-action/">github-action</a> <a class="post-tag" href="/tags/nextjs/">nextjs</a> <a class="post-tag" href="/tags/security/">security</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/spring-appender-marker/"><div class="card-body"> <em class="timeago small" date="2023-02-07 00:00:00 +0900" >Feb 7, 2023</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring ELK Marker를 활용하여 특정 로그만 Logstash appender로 수집하기</h3><div class="text-muted small"><p> Marker slf4j에 포함된 interface이며 다양한 용도로 활용가능하다. 대표적으로 turboFilter의 MarkerFilter가 있으며 전체 로그를 대상으로 marker filtering을 적용하고싶으면 이를 활용하면 된다. 본글에서는 전체 로그 대상이 아닌 단일 appender를 대상으로 marker filtering을 적용하는 방...</p></div></div></a></div><div class="card"> <a href="/posts/lambda-jar/"><div class="card-body"> <em class="timeago small" date="2023-06-28 00:00:00 +0900" >Jun 28, 2023</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS Lambda, 기본 설정 및 jar 배포하기</h3><div class="text-muted small"><p> for 비용 절감 특정 시간마다 API scraping을 진행하는 작업은 구현했다. 이걸 따로 container에서 돌리자니 비용이 아까워서 aws lambda로 배포하여 trigger를 등록하는 형태로 작업했다. duration 10~20 초, 6시간 간격으로 호출 jar 관련된 셋업이나 gradle kotlin dsl 기준으로 작성된...</p></div></div></a></div><div class="card"> <a href="/posts/ecs-promethues-grafana/"><div class="card-body"> <em class="timeago small" date="2022-08-12 00:00:00 +0900" >Aug 12, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring on AWS ECS Fargate, Prometheus, Grafana, ECS discovery service를 활용한 모니터링 환경 구축</h3><div class="text-muted small"><p> 들어가며 본 글에서는 AWS ECS에 대한 모니터링 시스템을 Prometheus, Grafana를 활용하여 구축하는 방법에 대해 정리한다. ECS에 포함되는 많은 container중 spring boot micrometer(prometheus-registry)에 대한 모니터링을 구축하는 방법에 대해서만 정리한다. 사전요구사항 pr...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/githubaction-output/" class="btn btn-outline-primary" prompt="Older"><p>Github action set-output is deprecated</p></a> <a href="/posts/spring-appender-marker/" class="btn btn-outline-primary" prompt="Newer"><p>Spring ELK Marker를 활용하여 특정 로그만 Logstash appender로 수집하기</p></a></div><script src="https://utteranc.es/client.js" repo="ColaGom/blog-comments" issue-term="url" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/ColaGom">ColaGom</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/kmm/">kmm</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/blockchain/">blockchain</a> <a class="post-tag" href="/tags/github-action/">github-action</a> <a class="post-tag" href="/tags/nextjs/">nextjs</a> <a class="post-tag" href="/tags/security/">security</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
